# ElasticSearch
## ElasticSearch的优点
1. ES具有强大的全文检索能力  
2. 近实时搜索 - 每秒刷新  
3. 分布式架构 - 自动分片，副本机制，无缝扩展  
4. 高性能聚合分析 - 替代复杂sql  
5. 丰富的查询功能  
6. 生态完善 - Logstash轻松接入日志，Kibana提供图表展示， X-Pack监控集群健康状态

## 如何优化Elasticsearch查询性能
### 1.索引优化  
- 设置合理的分片个数，每个分片30-50G，10个分片  
- 对于不需要分词的字段（如ID、分类、标签）使用 keyword 类型，需要分词的字段（如文本内容）使用 text 类型  
- 禁用不需要的字段  
- 使用索引模板统一配置索引设置（如分片、映射）  
### 2.查询优化  
- 避免全量查询，限制返回字段个数  
- 使用Filter代替Query  
- 不要使用wildcard，使用ngram分词  
- 使用bool组合多个must/should查询，避免多次查询  
- 避免使用通配符*查询，会导致全表扫描  
### 3.集群和硬件优化  
- 使用data节点查询数据  
- 冷热数据分离  
- 启用缓存  